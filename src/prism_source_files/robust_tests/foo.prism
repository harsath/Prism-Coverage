CLASS patient {
    ATTRIBUTES
    STRING name = "";
    INT ssn = 0;

    METHODS
    FUNCTION VOID setName (STRING input_name) {
        name = input_name;
    }
    
    FUNCTION VOID setSsn (INT input_ssn) {
        ssn = input_ssn;
    }
}

CLASS physician {
    ATTRIBUTES
    STRING name = "";
    patient[] patients = NEW patient[];

    METHODS
    FUNCTION VOID setName (STRING input_name){
        name = input_name;
    }

    FUNCTION VOID addPatient (patient p_) {
        patients.INSERT(p_);
    }

    FUNCTION VOID removePatient (patient p) {
        FOR (INT i = 0; i < patients.SIZE(); i++;) {
	    patient xx = patients.AT(i);
            IF (xx.ssn == p.ssn) {
                patients.REMOVEAT(i);
                BREAK;
            }
        }
    }
}

FUNCTION INT findMax(INT [] arr) {
	INT max = -1;
	FOR (INT i = 0; i < arr.SIZE(); i++;){
		max = MAX(max, arr.AT(i));
	}
	
	IF (max == -1) {
		EXIT(-1);
	}
	
	RETURN max;
}

FUNCTION INT test_pow (INT a, INT b) {
	RETURN POW(a, b);
}

FUNCTION INT factorial(INT n) {
	IF (n <= 2){
		RETURN n;
	}
	RETURN n * factorial(n - 1);
}

FUNCTION INT main () {
    // test classes
    patient p1 = NEW patient();
    p1.setSsn(1);
    patient p2 = NEW patient();
    p2.setName("Harsath");
    p2.setSsn(2);
    physician phys = NEW physician();
    phys.setName("Robbie");    
    phys.addPatient(p1);
    phys.addPatient(p2);
    
    patient[] phy_member = phys.patients;
    PRINTLN(phy_member.SIZE()); // 2
    phys.removePatient(p1);
    PRINTLN(phy_member.SIZE()); // 1

    INT[] arr = NEW INT[];
    arr.INSERT(5);
    arr.INSERT(1);
    arr.INSERT(6);
    arr.INSERT(2);
    arr.INSERT(3);
    arr.INSERT(4);
    
    PRINTLN(findMax(arr)); // 6
    PRINTLN(test_pow(2, 3)); // 8
    
    arr.REMOVEALL();
    PRINTLN(arr.SIZE()); // 0
    
    PRINTLN(factorial(5)); // 120
    
    RETURN 0;
}